/home/paul/git/conf/f3s/
├── README-ROLLOUTS.md                          ← ENTRY POINT (quick reference)
├── ARGO-ROLLOUTS-SUMMARY.md                    ← Full architecture & overview
├── ROLLOUTS-SETUP.md                           ← Detailed setup + 5 scenarios
├── ROLLOUTS-CHECKLIST.md                       ← Step-by-step deployment
├── ROLLOUTS-FILE-TREE.txt                      ← This file
│
├── argo-rollouts/                              ← NEW: Argo Rollouts Controller
│   ├── Justfile                                ← Install/upgrade/uninstall
│   ├── values.yaml                             ← Helm configuration
│   └── README.md                               ← Controller-specific guide
│
├── argocd-apps/
│   ├── cicd/
│   │   ├── git-server.yaml
│   │   └── argo-rollouts.yaml                  ← NEW: Controller app
│   │
│   └── services/
│       ├── tracing-demo.yaml                   ← UPDATED: Deployment → Rollout
│       └── ... (other apps)
│
├── tracing-demo/
│   ├── README.md
│   ├── Justfile                                ← UPDATED: Added rollout commands
│   ├── ROLLOUTS-DEMO.md                        ← NEW: Technical walkthrough
│   ├── rollout-demo.sh                         ← NEW: Demo automation
│   │
│   └── helm-chart/
│       ├── Chart.yaml
│       └── templates/
│           ├── frontend-rollout.yaml           ← NEW: Canary rollout definition
│           ├── frontend-deployment.yaml        ← KEPT: For reference
│           ├── middleware-deployment.yaml      ← (unchanged)
│           ├── backend-deployment.yaml         ← (unchanged)
│           ├── frontend-service.yaml
│           ├── middleware-service.yaml
│           ├── backend-service.yaml
│           └── ingress.yaml
│
└── ... (other apps unchanged)


═══════════════════════════════════════════════════════════════════════════

INSTALLATION SUMMARY
═══════════════════════════════════════════════════════════════════════════

Step 1: Install Controller
  cd /home/paul/git/conf/f3s/argo-rollouts
  just install

Step 2: Verify ArgoCD
  argocd app sync argo-rollouts
  argocd app sync tracing-demo

Step 3: Watch Demo
  cd /home/paul/git/conf/f3s/tracing-demo
  just rollout-watch

Step 4: Trigger Rollout (in another terminal)
  kubectl patch rollout tracing-demo-frontend -n services \
    --type='json' \
    -p='[{"op":"replace","path":"/spec/template/spec/containers/0/image","value":"registry.lan.buetow.org:30001/tracing-demo-frontend:latest"}]'

═══════════════════════════════════════════════════════════════════════════

DOCUMENTATION ROADMAP
═══════════════════════════════════════════════════════════════════════════

NEW TO ARGO ROLLOUTS?
  1. Read: README-ROLLOUTS.md (3 min)
  2. Read: ARGO-ROLLOUTS-SUMMARY.md (10 min)
  3. Follow: ROLLOUTS-CHECKLIST.md (step-by-step)

WANT DETAILED GUIDE?
  → ROLLOUTS-SETUP.md
     - Complete setup instructions
     - 5 demo scenarios with expected output
     - Monitoring dashboards
     - Advanced patterns

DOING THE DEPLOYMENT?
  → ROLLOUTS-CHECKLIST.md
     - Pre-deployment checks
     - Installation steps
     - Verification
     - Troubleshooting

TROUBLESHOOTING?
  → ROLLOUTS-SETUP.md → Troubleshooting section
  → argo-rollouts/README.md
  → tracing-demo/ROLLOUTS-DEMO.md

═══════════════════════════════════════════════════════════════════════════

KEY FILES EXPLAINED
═══════════════════════════════════════════════════════════════════════════

argo-rollouts/Justfile
  - Automates installation of Argo Rollouts controller
  - Commands: install, upgrade, uninstall, status, logs
  - Deploys to: cicd namespace

argo-rollouts/values.yaml
  - Helm chart configuration for Argo Rollouts
  - Sets resource limits, metrics, replicas

argocd-apps/cicd/argo-rollouts.yaml
  - ArgoCD Application resource
  - Manages controller installation via GitOps
  - Auto-syncs when argo-rollouts/ changes in git

tracing-demo/helm-chart/templates/frontend-rollout.yaml
  - Replaces frontend-deployment.yaml
  - Defines canary strategy:
    * Step 1: 50% traffic
    * Step 2: 2-minute pause
    * Step 3: 100% promotion
  - Keeps same pods, volumes, env vars as Deployment

tracing-demo/Justfile (updated)
  - New commands for rollout management
  - just rollout-watch
  - just rollout-status
  - just rollout-promote
  - just rollout-abort
  - just rollout-history

tracing-demo/rollout-demo.sh
  - Automation script for demo
  - Checks prerequisites
  - Guides through demo workflow
  - Can be extended for CI/CD

═══════════════════════════════════════════════════════════════════════════

WHAT CHANGED IN EXISTING FILES
═══════════════════════════════════════════════════════════════════════════

tracing-demo/Justfile
  [+] 8 new rollout commands
  [-] No breaking changes to existing commands

tracing-demo/helm-chart/templates/frontend-deployment.yaml
  [~] Still exists (for reference, not deployed)
  [→] Replaced by frontend-rollout.yaml in deployment

argocd-apps/services/tracing-demo.yaml
  [+] RespectIgnoreDifferences=true sync option
  [-] No other changes (points to same Helm chart)

═══════════════════════════════════════════════════════════════════════════

WHAT DID NOT CHANGE
═══════════════════════════════════════════════════════════════════════════

✓ Middleware & Backend services remain Deployments
✓ All service definitions (frontend, middleware, backend services)
✓ Ingress configuration
✓ All other apps (audiobookshelf, miniflux, etc.)
✓ ArgoCD configuration & installation
✓ Prometheus/Grafana setup

═══════════════════════════════════════════════════════════════════════════

HOW TO NAVIGATE THIS
═══════════════════════════════════════════════════════════════════════════

If you want to...                          See...
────────────────────────────────────────────────────────────────────────────
Understand what was created                ARGO-ROLLOUTS-SUMMARY.md
Get started quickly                        README-ROLLOUTS.md
Deploy step-by-step                        ROLLOUTS-CHECKLIST.md
See detailed scenarios & examples          ROLLOUTS-SETUP.md
Troubleshoot issues                        ROLLOUTS-SETUP.md (Troubleshooting section)
Learn technical details                    tracing-demo/ROLLOUTS-DEMO.md
Install the controller                     argo-rollouts/Justfile + argo-rollouts/README.md
See the rollout definition                 tracing-demo/helm-chart/templates/frontend-rollout.yaml
Run a demo                                 tracing-demo/rollout-demo.sh or just rollout-watch
Monitor during rollout                     Prometheus/Grafana (see ROLLOUTS-SETUP.md)
Integrate with CI/CD                       See ROLLOUTS-SETUP.md section "GitOps Flow"

═══════════════════════════════════════════════════════════════════════════
