- job_name: 'node-exporter'
  static_configs:
    - targets:
      - '192.168.2.130:9100'  # f0 via WireGuard
      - '192.168.2.131:9100'  # f1 via WireGuard
      - '192.168.2.132:9100'  # f2 via WireGuard
      labels:
        os: freebsd
    - targets:
      - '192.168.2.110:9100'  # blowfish via WireGuard
      - '192.168.2.111:9100'  # fishfinger via WireGuard
      labels:
        os: openbsd

- job_name: 'pushgateway'
  honor_labels: true
  static_configs:
    - targets:
      - 'pushgateway.monitoring.svc.cluster.local:9091'

# Radicale CalDAV/CardDAV server health monitoring
# Radicale doesn't expose Prometheus metrics, so we scrape the web interface
# and rely on the 'up' metric to determine if the service is available
- job_name: 'radicale'
  metrics_path: '/.web/'
  static_configs:
    - targets:
      - 'radicale-service.services.svc.cluster.local:80'
      labels:
        service: radicale
        namespace: services
  scrape_interval: 30s
  scrape_timeout: 10s
